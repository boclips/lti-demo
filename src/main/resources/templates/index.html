<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>LTI Demo</title>
    <script type="application/javascript" src="https://unpkg.com/boclips-js-security@3.4.1-dev.1/dist/min/boclips-js-security.js"></script>
</head>

<body>
    <form method="post" th:action="${initiateLoginUrl}" target="lti-resource">
        <label>
            iss
            <input type="text" name="iss">
        </label>
        <label>
            login_hint
            <input type="text" name="login_hint">
        </label>
        <label>
            target_link_uri
            <input type="text" name="target_link_uri">
        </label>
        <input type="submit" value="post">
    </form>

    <iframe name="lti-resource"></iframe>

    <script type="application/javascript">
        const authOptions = {
            realm: 'boclips',
            clientId: 'teachers',
            mode: 'login-required',
            authEndpoint: 'https://login.staging-boclips.com/auth',
            onLogin: () => {
                console.log('hello')
            },
        };

        const security = BoclipsSecurity.createInstance(authOptions);
    </script>
</body>

</html>
